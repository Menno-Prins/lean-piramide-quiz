<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lean Piramide Quiz</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>
<body>
    <!-- Procense Logo -->
    <a href="https://www.procense.nl" target="_blank" class="logo-container">
        <img src="assets/procense-logo.png" alt="Procense" class="procense-logo">
    </a>

    <div id="app">
        <!-- Start Scherm -->
        <div id="start-screen" class="screen active">
            <div class="container">
                <h1>Lean Piramide Quiz</h1>
                <p class="subtitle">Test je kennis van de Lean Piramide</p>
                <div class="button-group">
                    <button id="btn-host" class="btn btn-primary">Start Nieuw Spel</button>
                    <button id="btn-join" class="btn btn-secondary">Deelnemen</button>
                </div>
            </div>
        </div>

        <!-- Join Scherm -->
        <div id="join-screen" class="screen">
            <div class="container">
                <h2>Deelnemen aan Spel</h2>
                <div class="form-group">
                    <label for="game-code">Spelcode</label>
                    <input type="text" id="game-code" placeholder="Voer spelcode in" maxlength="6">
                </div>
                <div class="form-group">
                    <label for="player-name">Jouw naam</label>
                    <input type="text" id="player-name" placeholder="Voer je naam in" maxlength="20">
                </div>
                <div class="button-group">
                    <button id="btn-connect" class="btn btn-primary">Verbinden</button>
                    <button id="btn-back-join" class="btn btn-secondary">Terug</button>
                </div>
                <p id="join-status" class="status-message"></p>
            </div>
        </div>

        <!-- Lobby Scherm (Spelleider) -->
        <div id="lobby-screen" class="screen">
            <div class="container">
                <h2>Lobby</h2>
                <div class="join-url-display">
                    <p>Deelnemers gaan naar:</p>
                    <div class="url-box">menno-prins.github.io/lean-piramide-quiz</div>
                </div>
                <div class="game-code-display">
                    <p>Spelcode:</p>
                    <div id="display-code" class="code-box">------</div>
                </div>
                <div class="settings-group">
                    <label for="time-limit">Tijd per ronde (seconden):</label>
                    <input type="number" id="time-limit" value="60" min="10" max="300">
                </div>
                <div class="settings-group">
                    <label>Afrond modus:</label>
                </div>
                <div class="settings-group timer-mode-options">
                    <label class="radio-option">
                        <input type="radio" name="timer-mode" value="auto" checked>
                        <span>Automatisch na tijd</span>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="timer-mode" value="manual">
                        <span>Alleen handmatig</span>
                    </label>
                </div>
                <div class="players-section">
                    <h3>Deelnemers (<span id="player-count">0</span>)</h3>
                    <ul id="player-list" class="player-list"></ul>
                </div>
                <button id="btn-start-game" class="btn btn-primary" disabled>Start Spel</button>
            </div>
        </div>

        <!-- Wacht Scherm (Deelnemer) -->
        <div id="waiting-screen" class="screen">
            <div class="container">
                <h2>Wachten op spelleider...</h2>
                <div class="loader"></div>
                <p id="waiting-message">Het spel begint zodra de spelleider start</p>
            </div>
        </div>

        <!-- Spel Scherm -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <div class="round-info">Ronde <span id="current-round">1</span> van <span id="total-rounds">6</span></div>
                <div class="timer-display">
                    <div id="timer" class="timer">60</div>
                </div>
                <div class="score-display">Score: <span id="current-score">0</span></div>
            </div>
            <div class="game-content">
                <div class="pyramid-container">
                    <img id="pyramid-image" src="assets/piramide-leeg.png" alt="Lean Piramide">
                </div>
                <div class="question-container">
                    <h3 id="question-text">Vraag komt hier...</h3>
                    <div id="question-description" class="question-description"></div>
                    <div id="answers-container" class="answers-container"></div>
                    <button id="btn-submit-answer" class="btn btn-primary" style="display: none;">Bevestig Antwoord</button>
                    <!-- Host controls -->
                    <div id="host-controls" class="host-controls" style="display: none;">
                        <p class="host-status">Wachten op spelers... <span id="answers-received">0</span>/<span id="total-players">0</span> antwoorden</p>
                        <button id="btn-end-round" class="btn btn-secondary">Ronde Afsluiten</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feedback Scherm -->
        <div id="feedback-screen" class="screen">
            <div class="container">
                <h2 id="feedback-title">Antwoorden</h2>
                <div id="feedback-content" class="feedback-content"></div>
                <p id="round-score" class="round-score"></p>
            </div>
        </div>

        <!-- Wacht na antwoord scherm -->
        <div id="answer-waiting-screen" class="screen">
            <div class="container">
                <h2>Antwoord ingediend!</h2>
                <div class="loader"></div>
                <p>Wachten tot de spelleider de ronde afsluit...</p>
            </div>
        </div>

        <!-- Ranking Scherm -->
        <div id="ranking-screen" class="screen">
            <div class="container">
                <h2 id="ranking-title">Tussenstand</h2>
                <div id="podium" class="podium">
                    <div class="podium-place second">
                        <div class="podium-name" id="podium-2-name">-</div>
                        <div class="podium-score" id="podium-2-score">0</div>
                        <div class="podium-block">2</div>
                    </div>
                    <div class="podium-place first">
                        <div class="podium-name" id="podium-1-name">-</div>
                        <div class="podium-score" id="podium-1-score">0</div>
                        <div class="podium-block">1</div>
                    </div>
                    <div class="podium-place third">
                        <div class="podium-name" id="podium-3-name">-</div>
                        <div class="podium-score" id="podium-3-score">0</div>
                        <div class="podium-block">3</div>
                    </div>
                </div>
                <div id="full-ranking" class="full-ranking"></div>
                <button id="btn-next-round" class="btn btn-primary" style="display: none;">Volgende Ronde</button>
            </div>
        </div>

        <!-- Eind Scherm -->
        <div id="end-screen" class="screen">
            <div class="container">
                <h2>Spel Afgelopen!</h2>
                <div id="final-podium" class="podium">
                    <div class="podium-place second">
                        <div class="podium-name" id="final-2-name">-</div>
                        <div class="podium-score" id="final-2-score">0</div>
                        <div class="podium-block">2</div>
                    </div>
                    <div class="podium-place first">
                        <div class="podium-name" id="final-1-name">-</div>
                        <div class="podium-score" id="final-1-score">0</div>
                        <div class="podium-block">1</div>
                    </div>
                    <div class="podium-place third">
                        <div class="podium-name" id="final-3-name">-</div>
                        <div class="podium-score" id="final-3-score">0</div>
                        <div class="podium-block">3</div>
                    </div>
                </div>
                <div id="final-ranking" class="full-ranking"></div>
                <div id="end-buttons-host" class="button-group" style="display: none;">
                    <button id="btn-replay-round6" class="btn btn-primary">Ronde 6 Opnieuw</button>
                    <button id="btn-play-again" class="btn btn-secondary">Heel Spel Opnieuw</button>
                </div>
                <p id="end-message-player" style="display: none;">Wachten op spelleider...</p>
            </div>
        </div>
    </div>

    <script src="game-data.js"></script>
    <script src="peer-connection.js"></script>
    <script src="app.js"></script>
</body>
</html>
